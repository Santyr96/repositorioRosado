import{c as i}from"./close-modal-McXQp2uh.js";function m(){const n=document.forms.HairDresserForm,e=n.querySelectorAll("input"),t=document.querySelectorAll("span");n.addEventListener("submit",async function(a){a.preventDefault();const l=new FormData(n);for(const[s,r]of l.entries())console.log(`${s}:`,r);try{const s=this.getAttribute("data-form");s||(console.error("La URL para insertar una peluquería en la base de datos no esta disponible."),c("Error interno. Intenta más tarde."));const r=await fetch(s,{method:"POST",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:l});if(!r.ok){const o=await r.json();throw new Error(o.error)}await r.json()?(u("Peluquería creada correctamente."),e.forEach(o=>{o.value=""}),t.forEach(o=>{o.textContent=""})):(c("Error al crear la peluquería."),e.forEach(o=>{o.value=""}),t.forEach(o=>{o.textContent=""}))}catch(s){console.error("Error:",s),c(s),e.forEach(r=>{r.value=""}),t.forEach(r=>{r.textContent=""})}})}function c(n){const e=document.getElementById("errorModal"),t=e.querySelector("p"),a=document.getElementById("errorModalTitle");t&&(t.textContent=n),a&&(a.textContent="Error al envíar el formulario"),e&&e.classList.toggle("hidden"),i()}function u(n){const e=document.getElementById("errorModal"),t=e.querySelector("p"),a=e.querySelector("h3");t&&(t.textContent=n),a&&(a.textContent="¡Éxito!"),e&&e.classList.toggle("hidden"),i()}export{m as s};
