import{c}from"./close-modal-McXQp2uh.js";function i(){const t=document.forms.fFormSignUp;t.addEventListener("submit",async function(o){o.preventDefault();const e=new FormData(t);for(const[r,n]of e.entries())console.log(`${r}:`,n);try{const r=this.getAttribute("data-form");r||(console.error("La URL para darse de alta en una peluquería no esta disponible."),s("Error interno. Intenta más tarde."));const n=await fetch(r,{method:"POST",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:e});if(!n.ok){console.log(n.json);const a=await n.json();throw console.log(a),new Error(`${a.error}`)}l(this.getAttribute("data-url"))}catch(r){console.error("Error:",r),s(r)}})}function s(t){const o=document.getElementById("errorModal"),e=o.querySelector("p");e&&(e.textContent=t),o&&o.classList.toggle("hidden"),c()}async function l(t){const o=document.getElementById("content");try{const e=await fetch(t);if(!e.ok)throw console.error("Error en la solicitud"),new Error("Error en la solicitud");const r=await e.text();o.innerHTML=r,i()}catch(e){console.error("Error al cargar el contenido",e),o.innerText="Error al cargar el contenido."}}export{i as s};
