import{c}from"./close-modal-McXQp2uh.js";async function l(o){const t=document.getElementById("content");try{const e=await fetch(o,{method:"GET",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}});if(!e.ok)throw new Error("Error en la solicitud");const r=await e.text();t.innerHTML=r,u()}catch(e){console.error("Error al cargar el contenido",e),t.innerText="Error al cargar el contenido."}}function u(){const o=document.forms.fSelectHairdresser;o.addEventListener("submit",async function(t){t.preventDefault();const e=new FormData(o),r=this.getAttribute("data-reload");try{const n=this.getAttribute("data-delete_hairdresser");n||(console.error("La URL para insertar una peluquería en la base de datos no esta disponible."),a("Error interno. Intenta más tarde."));const s=await fetch(n,{method:"POST",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:e});if(!s.ok){const d=await s.json();throw new Error(d.error)}const i=await s.json();m(i.success,r)}catch(n){a(n)}})}function a(o){const t=document.getElementById("errorModal"),e=t.querySelector("p"),r=document.getElementById("errorModalTitle");e&&(e.textContent=o),r&&(r.textContent="Error al envíar el formulario"),t&&t.classList.toggle("hidden"),c()}function m(o,t){const e=document.getElementById("errorModal"),r=e.querySelector("p"),n=e.querySelector("h3"),s=document.querySelector(".errorButton");r&&(r.textContent=o),n&&(n.textContent="¡Éxito!"),e&&e.classList.toggle("hidden"),s.addEventListener("click",function(){l(t)}),c()}export{u as d};
